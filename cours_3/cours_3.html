<!DOCTYPE html>
<html lang="en"><head>
<script src="cours_3_files/libs/clipboard/clipboard.min.js"></script>
<script src="cours_3_files/libs/quarto-html/tabby.min.js"></script>
<script src="cours_3_files/libs/quarto-html/popper.min.js"></script>
<script src="cours_3_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="cours_3_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cours_3_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="cours_3_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <meta name="author" content="Olivier Caron">
  <title>Études qualitatives sur le web (netnographie)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="cours_3_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="cours_3_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="cours_3_files/libs/revealjs/dist/theme/quarto-7305b09eb733fa85903ef661c69bedac.css">
  <link href="cours_3_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="cours_3_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="cours_3_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="cours_3_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="cours_3_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="cours_3_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="ubd_bg1.png" data-background-position="center" data-background-size="cover" class="quarto-title-block center">
  <h1 class="title">Études qualitatives sur le web (netnographie)</h1>
  <p class="subtitle">Scraping et utilisation des API</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Olivier Caron 
</div>
        <p class="quarto-title-affiliation">
            Paris Dauphine - PSL
          </p>
    </div>
</div>

</section>
<section id="récupérer-des-données-en-ligne-depuis-un-site-web" class="slide level2">
<h2>Récupérer des données en ligne depuis un site web</h2>
<ul>
<li><strong>Web scraping</strong> = extraction automatisée de données depuis des pages web<br>
</li>
<li>Utile pour collecter des avis, commentaires, posts, etc.<br>
</li>
<li>Nécessite de comprendre la structure <strong>HTML</strong> d’une page web</li>
<li>Respecter les <strong>CGU</strong> du site et les <strong>aspects éthiques</strong> (robots.txt, anonymisation)</li>
</ul>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>👉 Toujours vérifier les conditions d’utilisation du site avant de scraper. Le fichier robots.txt indique ce qui est autorisé ou non.</p>
</div>
</div>
</div>
</section>
<section id="comprendre-le-html" class="slide level2">
<h2>Comprendre le HTML</h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="quest-ce-que-le-html">Qu’est-ce que le HTML ?</h3>
<ul>
<li><strong>HyperText Markup Language</strong><br>
</li>
<li>Langage de balisage utilisé pour <strong>structurer les pages web</strong><br>
</li>
<li>Les navigateurs lisent le HTML pour afficher texte, images, liens…</li>
</ul>
<h3 id="structure-de-base">Structure de base</h3>
<ul>
<li><strong>Balises</strong> = éléments entourés de <code>&lt; &gt;</code><br>
</li>
<li>S’ouvrent <code>&lt;p&gt;</code> et se ferment <code>&lt;/p&gt;</code><br>
</li>
<li>Organisation hiérarchique en <strong>arborescence</strong> (DOM : Document Object Model)<br>
</li>
</ul>
</div><div class="column" style="width:40%;">
<h3 id="exemples-utiles">Exemples utiles</h3>
<ul>
<li><code>&lt;h1&gt;</code> → titre<br>
</li>
<li><code>&lt;p&gt;</code> → paragraphe<br>
</li>
<li><code>&lt;a&gt;</code> → lien<br>
</li>
<li><code>&lt;div&gt;</code> → section, bloc de page</li>
</ul>
<div title="À retenir">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>À retenir</strong></p>
</div>
<div class="callout-content">
<p>Le HTML ≠ langage de programmation,<br>
c’est un <strong>langage de structure</strong>.<br>
C’est ce qu’on “scrape” pour collecter les avis.</p>
</div>
</div>
</div>
</div>
</div></div>
</section>
<section id="ssr-vs-spa-api-cachée" class="slide level2">
<h2>SSR vs SPA &amp; API cachée</h2>
<div class="columns">
<div class="column" style="width:55%;">
<h3 id="deux-architectures-fréquentes">Deux architectures fréquentes</h3>
<ul>
<li><strong>SSR</strong> (Server-Side Rendering) : HTML <strong>complet</strong> livré par le serveur → scraping simple.<br>
</li>
<li><strong>SPA</strong> (Single Page App) : HTML initial minimal, contenu chargé via <strong>JavaScript</strong> → penser <strong>API sous-jacente</strong>.<br>
</li>
</ul>
</div><div class="column" style="width:45%;">
<h3 id="réflexe-devtools">Réflexe DevTools</h3>
<ul>
<li>Onglet <strong>Network</strong> (XHR/Fetch) pour repérer les <strong>endpoints JSON</strong>.<br>
</li>
<li>Examiner <strong>params</strong> (pagination, filtres), <strong>headers</strong>, <strong>auth</strong> éventuelle.<br>
</li>
</ul>
</div></div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Si une page « ne contient rien » côté HTML, <strong>inspecter l’API</strong> qui remplit la page.<br>
C’est souvent <strong>plus stable</strong> que le DOM.</p>
</div>
</div>
</div>
</section>
<section id="inspection-du-site-web---fnac" class="slide level2">
<h2>Inspection du site web - Fnac</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://fr.trustpilot.com/review/www.fnac.com"><img data-src="images/clipboard-44474281.png" class="quarto-figure quarto-figure-center" style="width:90.0%"></a></p>
</figure>
</div>
</section>
<section id="inspection-du-site-web---decathlon" class="slide level2">
<h2>Inspection du site web - Decathlon</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://www.decathlon.fr/r/tente-gonflable-de-camping-air-seconds-5-2-fetb-5-places-2-chambres/_/R-p-324972?mc=8584565"><img data-src="images/clipboard-3609763666.png" class="quarto-figure quarto-figure-center" style="width:90.0%"></a></p>
</figure>
</div>
</section>
<section id="exemple-de-scraping-statique-plus-simple" class="slide level2">
<h2>Exemple de scraping statique (plus simple)</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Pour des pages <strong>simples</strong> où le contenu est directement dans le HTML<br>
</li>
<li>Utiliser des packages comme <strong>rvest</strong> (R) ou <strong>BeautifulSoup</strong> (Python)</li>
<li>Voir script <code>test_scrap_marketing_jobs.R</code></li>
</ul>
<h3 id="étapes">Étapes</h3>
<ol type="1">
<li>Télécharger le HTML de la page<br>
</li>
<li>Analyser la structure (balises, classes CSS)<br>
</li>
<li>Extraire les éléments souhaités (ex. avis, notes)<br>
</li>
<li>Sauvegarder les données (CSV, JSON)<br>
</li>
</ol>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/clipboard-902722709.png" class="quarto-figure quarto-figure-center" style="width:95.0%"></p>
</figure>
</div>
</div></div>
</section>
<section id="sélecteurs-css-xpath" class="slide level2">
<h2>Sélecteurs CSS &amp; XPath</h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="pourquoi-les-sélecteurs-sont-essentiels">Pourquoi les sélecteurs sont essentiels ?</h3>
<ul>
<li>Lorsqu’on scrape, il faut <strong>indiquer au programme où chercher</strong>.<br>
</li>
<li>Deux outils principaux :
<ul>
<li><strong>CSS selectors</strong> : utilisés aussi dans le design web (<code>.classe</code>, <code>#id</code>, <code>div &gt; p</code>).<br>
</li>
<li><strong>XPath</strong> : langage plus puissant, qui décrit le chemin dans l’arborescence HTML.<br>
</li>
</ul></li>
</ul>
</div><div class="column" style="width:40%;">
<h3 id="exemples-rapides">Exemples rapides</h3>
<ul>
<li>CSS : <code>div.review p.text</code> → récupère le texte des avis.<br>
</li>
<li>XPath : <code>//div[@class='review']//p[@class='text']</code></li>
</ul>
<p>👉 Même page, deux méthodes différentes pour pointer les mêmes données.</p>
</div></div>
</section>
<section id="rendre-ses-sélecteurs-robustes" class="slide level2">
<h2>Rendre ses sélecteurs robustes</h2>
<ul>
<li>Préférer des <strong>classes sémantiques</strong> stables (ex. <code>data-*</code>).<br>
</li>
<li>Éviter les sélecteurs trop <strong>fragiles</strong> (<code>nth-child</code>).<br>
</li>
<li>Mettre en place un <strong>plan B</strong> : CSS <strong>et</strong> XPath.<br>
</li>
<li><strong>Versionner</strong> ses sélecteurs (notes de changement).</li>
</ul>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Mettre en place des <strong>tests de fumée</strong> : vérifier régulièrement qu’un petit échantillon s’extrait encore (alerte si 0 résultat).</p>
</div>
</div>
</div>
</section>
<section id="réponses-dune-requête-http" class="slide level2">
<h2>Réponses d’une requête HTTP</h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="quest-ce-quun-code-http">Qu’est-ce qu’un code HTTP ?</h3>
<ul>
<li>Quand on envoie une <strong>requête</strong> à un serveur (page web, API…),<br>
celui-ci renvoie une <strong>réponse</strong>.<br>
</li>
<li>Cette réponse contient :
<ul>
<li>le <strong>contenu</strong> (HTML, JSON, fichier…),</li>
<li>un <strong>code de statut</strong> indiquant si tout s’est bien passé.</li>
</ul></li>
</ul>
<h3 id="codes-fréquents">Codes fréquents</h3>
<ul>
<li><strong>200 OK</strong> → la requête a réussi ✅<br>
</li>
<li><strong>301 / 302</strong> → redirection 🔀<br>
</li>
<li><strong>403</strong> → accès interdit 🔒<br>
</li>
<li><strong>404</strong> → page non trouvée ❌<br>
</li>
<li><strong>500</strong> → erreur interne du serveur 💥</li>
</ul>
</div><div class="column" style="width:40%;">
<div title="À retenir">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>À retenir</strong></p>
</div>
<div class="callout-content">
<p>Les codes HTTP sont comme des <strong>panneaux de signalisation</strong> :<br>
ils indiquent l’état de la route entre <strong>l’utilisateur</strong> et le <strong>serveur</strong> .</p>
<p><img data-src="images/clipboard-1049580635.png" style="width:100.0%"></p>
</div>
</div>
</div>
</div>
</div></div>
</section>
<section id="politesse-de-crawl-robots.txt-vs-cgu" class="slide level2">
<h2>Politesse de crawl &amp; robots.txt vs CGU</h2>
<div class="columns">
<div class="column" style="width:58%;">
<h3 id="bonne-conduite-technique">Bonne conduite technique</h3>
<ul>
<li>Respecter <code>robots.txt</code>, <code>crawl-delay</code>, <code>sitemap.xml</code>.<br>
</li>
<li><strong>Throttling</strong> : délais aléatoires, <strong>backoff exponentiel</strong>.<br>
</li>
<li>Identifier proprement l’<strong>User-Agent</strong>.<br>
</li>
</ul>
</div><div class="column" style="width:42%;">
<h3 id="aspects-juridiqueséthiques">Aspects juridiques/éthiques</h3>
<ul>
<li>Les <strong>CGU</strong> priment (contrat).<br>
</li>
<li>Données personnelles → <strong>RGPD</strong> : minimisation, base légale, anonymisation.<br>
</li>
<li><strong>Droit d’auteur / droit des bases de données (UE)</strong>.<br>
</li>
</ul>
</div></div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>En recherche : privilégier <strong>API officielles</strong>, anonymisation, et documenter vos <strong>mesures de conformité</strong>.</p>
</div>
</div>
</div>
</section>
<section id="expressions-régulières-regex" class="slide level2">
<h2>Expressions régulières (Regex)</h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="quest-ce-quune-regex">Qu’est-ce qu’une regex ?</h3>
<ul>
<li>Une <strong>règle textuelle</strong> permettant de détecter ou extraire des motifs.<br>
</li>
<li>Très utilisée dans le scraping pour :
<ul>
<li>Nettoyer les chaînes de caractères,<br>
</li>
<li>Extraire un numéro, une date, une note, un email, etc.<br>
</li>
</ul></li>
</ul>
</div><div class="column" style="width:40%;">
<h3 id="exemples-utiles-1">Exemples utiles</h3>
<ul>
<li><code>\d+</code> → détecte une suite de chiffres (ex. “123”).<br>
</li>
<li><code>[A-Z][a-z]+</code> → détecte un mot commençant par majuscule.<br>
</li>
<li><code>https?://\S+</code> → détecte une URL.</li>
</ul>
</div></div>
<div title="À retenir">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>À retenir</strong></p>
</div>
<div class="callout-content">
<p>Les regex sont comme un <strong>aimant à motifs textuels</strong>.<br>
Elles permettent d’<strong>affiner le scraping</strong> pour récupérer ce qu’on veut exactement.</p>
</div>
</div>
</div>
</div>
</section>
<section id="quest-ce-quune-api" class="slide level2">
<h2>Qu’est-ce qu’une API ?</h2>
<div class="columns">
<div class="column" style="font-size:0.65em">
<h3 id="définition">Définition</h3>
<ul>
<li><strong>API</strong> = <em>Application Programming Interface</em><br>
</li>
<li>Une <strong>interface</strong> qui permet à deux systèmes informatiques de communiquer<br>
</li>
<li>L’API définit :
<ul>
<li>quelles données sont disponibles,<br>
</li>
<li>comment les demander,<br>
</li>
<li>dans quel format elles seront renvoyées (souvent JSON).<br>
</li>
</ul></li>
</ul>
</div><div class="column" style="font-size:0.65em">
<div title="Analogie">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Analogie</strong></p>
</div>
<div class="callout-content">
<p>Une API fonctionne comme <strong>un menu de restaurant</strong> :<br>
- le menu = les services disponibles,<br>
- la commande = la requête,<br>
- le plat servi = la réponse de l’API.</p>
</div>
</div>
</div>
</div>
</div><div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/clipboard-874427102.png" class="quarto-figure quarto-figure-center" style="width:65.0%"></p>
</figure>
</div>
</div>
</section>
<section id="pourquoi-utiliser-une-api" class="slide level2">
<h2>Pourquoi utiliser une API ?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="avantages">Avantages</h3>
<ul>
<li>Données <strong>structurées</strong> (JSON, XML, CSV).<br>
</li>
<li>Informations <strong>fiables et cohérentes</strong>.<br>
</li>
<li>Accès possible depuis différents supports : site web, application mobile, outils internes.<br>
</li>
<li>Plus rapide et plus robuste que le scraping HTML.<br>
</li>
</ul>
</div><div class="column" style="width:50%;">
<div title="Comparaison">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Comparaison</strong></p>
</div>
<div class="callout-content">
<ul>
<li><strong>Scraping</strong> = recopier ce qui s’affiche à l’écran.<br>
</li>
<li><strong>API</strong> = demander directement au serveur les données brutes.</li>
</ul>
<p>👉 L’API est <strong>plus simple</strong> à exploiter dès qu’elle est disponible.</p>
</div>
</div>
</div>
</div>
</div></div>
</section>
<section id="utiliser-lapi-sous-jacente-plus-robuste-12" class="slide level2">
<h2>Utiliser l’API sous-jacente (plus robuste) 1/2</h2>
<p><img data-src="images/clipboard-283255231.png"></p>
</section>
<section id="utiliser-lapi-sous-jacente-plus-robuste-22" class="slide level2">
<h2>Utiliser l’API sous-jacente (plus robuste) 2/2</h2>
<p>Beaucoup de sites chargent les avis via une <strong>API JSON</strong> en arrière-plan.<br>
On peut la repérer via l’onglet <strong>Network</strong> de DevTools. Voir script <code>test_scrap_api_decathlon.ipynb</code></p>
<p>Exemple Decathlon (avis produit <code>8584565</code>) : <a href="https://www.decathlon.fr/fr/ajax/nfs/openvoice/reviews/product/8584565?range=0-9" class="uri">https://www.decathlon.fr/fr/ajax/nfs/openvoice/reviews/product/8584565?range=0-9</a></p>
<ul>
<li>Paramètre <code>range=0-9</code> → renvoie les 10 premiers avis<br>
</li>
<li>On peut incrémenter <code>range=10-19</code>, <code>20-29</code>, etc. pour paginer<br>
</li>
<li>La réponse est un <strong>JSON</strong> structuré et facile à manipuler en Python</li>
</ul>
</section>
<section id="limites-blocages-du-scraping" class="slide level2">
<h2>Limites &amp; blocages du scraping</h2>
<ul>
<li>Certains sites mettent en place des <strong>protections anti-scraping</strong> :
<ul>
<li>Captchas,<br>
</li>
<li>Blocage d’IP après trop de requêtes,<br>
</li>
<li>Chargement dynamique par JavaScript.</li>
</ul></li>
<li>Solutions possibles :
<ul>
<li><strong>Délai aléatoire</strong> entre requêtes,<br>
</li>
<li>Utiliser des <strong>proxies</strong> (IP différentes),<br>
</li>
<li>Automatiser un navigateur (ex. <code>RSelenium</code>, <code>Selenium</code> en Python).</li>
</ul></li>
</ul>
<div title="Éthique &amp; légalité">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Éthique &amp; légalité</strong></p>
</div>
<div class="callout-content">
<p>Toujours respecter :<br>
- Les <strong>conditions d’utilisation</strong> du site,<br>
- Les <strong>règles RGPD</strong> si données personnelles,<br>
- Et informer si vous utilisez ces données dans une étude.</p>
</div>
</div>
</div>
</div>
</section>
<section id="anti-bot-fingerprinting" class="slide level2">
<h2>Anti-bot &amp; fingerprinting</h2>
<ul>
<li>Contremesures typiques : <strong>CAPTCHAs</strong>, blocage IP, <strong>fingerprinting</strong> (canvas, fonts, timing) voire <strong>Cookies</strong></li>
<li>Contournements : proxys, rotation IP, navigateurs headless… <strong>À manier avec prudence</strong> (légalité/éthique).<br>
</li>
<li>Stratégie la plus simple et la meilleure : <strong>passer par l’API</strong> quand elle existe.</li>
</ul>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Rester du côté « responsable » : ne pas dégrader les services, ne pas outrepasser des restrictions explicites.</p>
</div>
</div>
</div>
</section>
<section id="scraping-dynamique-avec-selenium-playwright" class="slide level2">
<h2>Scraping dynamique avec Selenium &amp; Playwright</h2>
<p><br>
</p>
<h3 id="pourquoi-un-navigateur-automatisé">Pourquoi un navigateur automatisé ?</h3>
<ul>
<li>Certains contenus ne sont pas dans le <strong>HTML initial</strong>,<br>
mais chargés après coup par <strong>JavaScript</strong>.<br>
</li>
<li>Dans ce cas, un simple <code>rvest</code> ou <code>BeautifulSoup</code> ne suffit pas.<br>
</li>
<li>Il faut simuler un vrai navigateur qui :
<ul>
<li>charge la page,<br>
</li>
<li>exécute le JavaScript,<br>
</li>
<li>récupère le contenu final affiché.</li>
</ul></li>
</ul>
<p>👉 C’est le rôle de <strong>Selenium</strong> (Python/R) et <strong>Playwright</strong> (Python/JS).</p>
</section>
<section id="exemple-dutilisation" class="slide level2">
<h2>Exemple d’utilisation</h2>
<h3 id="étapes-générales">Étapes générales</h3>
<ol type="1">
<li>Ouvrir un navigateur automatisé (Chrome, Firefox…).<br>
</li>
<li>Naviguer vers l’URL de la page cible.<br>
</li>
<li>Attendre le rendu JavaScript.<br>
</li>
<li>Extraire le HTML ou interagir avec la page (clics, scroll…).<br>
</li>
<li>Sauvegarder les données.</li>
</ol>
<h3 id="cas-typiques">Cas typiques</h3>
<ul>
<li>Sites e-commerce avec avis <strong>chargés dynamiquement</strong>.<br>
</li>
<li>Pages qui nécessitent de <strong>cliquer</strong> pour voir plus de contenu.</li>
<li>Pages qui nécessitent de se connecter avec login et password.</li>
<li>Scroll infini (ex. réseaux sociaux).</li>
</ul>
</section>
<section id="à-retenir" class="slide level2">
<h2>À retenir</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li><strong>Selenium/Playwright</strong> = des robots qui se font passer pour un utilisateur.<br>
</li>
<li>Très puissants, mais aussi plus <strong>lents</strong> et <strong>lourds</strong> que le scraping statique.<br>
</li>
<li>Toujours vérifier les <strong>aspects légaux et éthiques</strong> :<br>
ce n’est pas parce qu’on peut automatiser un clic qu’on en a le droit.<br>
</li>
</ul>
</div>
</div>
</div>
</section>
<section id="lavenir-du-code-avec-les-llms" class="slide level2">
<h2>L’avenir du code : avec les LLMs</h2>
<div class="columns">
<div class="column" style="font-size:0.75em">
<h3 id="pourquoi-utiliser-les-llms">Pourquoi utiliser les LLMs ?</h3>
<ul>
<li>Outils comme <strong>ChatGPT, Claude, Gemini, Mistral</strong> facilitent la génération de code.<br>
</li>
<li>Gain de temps sur les tâches répétitives (import, nettoyage, visualisation).<br>
</li>
<li>Permettent d’explorer rapidement plusieurs approches.</li>
</ul>
<h3 id="ce-qui-reste-essentiel">Ce qui reste essentiel</h3>
<ul>
<li><strong>Comprendre les concepts</strong> : API, packages, fonctions, corpus, tokenisation, sentiment, topics…<br>
</li>
<li>Être capable de <strong>lire et comprendre</strong> un script généré.<br>
</li>
<li>Savoir écrire un peu de code pour <strong>dialoguer efficacement</strong> avec les LLMs.</li>
</ul>
<h3 id="lavenir">L’avenir</h3>
<ul>
<li>Les métiers de demain demanderont plus de <strong>pilotage des IA</strong> que d’écriture manuelle de code.<br>
</li>
<li>Votre valeur ajoutée = <strong>esprit critique</strong>, <strong>capacité d’interprétation</strong> et <strong>rigueur méthodologique</strong>.<br>
</li>
</ul>
</div><div class="column" style="width:50%;">
<p><br>
<br>
<img data-src="images/clipboard-986880177.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
<div title="À retenir">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>À retenir</strong></p>
</div>
<div class="callout-content">
<p>Apprenez les bases,<br>
mais pensez déjà à <strong>coder avec les LLMs</strong> et leur utilisation est encouragée.</p>
</div>
</div>
</div>
</div>
</div></div>

<script> window._input_file = "---\n" + "title: \"Études qualitatives sur le web (netnographie)\"\n" + "subtitle: \"Scraping et utilisation des API\"\n" + "author:\n" + "  - name: \"Olivier Caron\"\n" + "    affiliations: \"Paris Dauphine - PSL\"\n" + "format:\n" + "  ubd-revealjs:\n" + "    self-contained: false\n" + "    chalkboard: true\n" + "    transition: fade\n" + "    auto-stretch: false\n" + "    width: 1250\n" + "    height: 760\n" + "    toc: false\n" + "    toc-depth: 1\n" + "    code-block-height: 700px\n" + "execute:\n" + "  echo: true\n" + "bibliography: refs.bib\n" + "revealjs-plugins:\n" + "  - editable\n" + "filters:\n" + "  - editable\n" + "---\n" + "\n" + "## Récupérer des données en ligne depuis un site web\n" + "\n" + "-   **Web scraping** = extraction automatisée de données depuis des pages web\\n" + "-   Utile pour collecter des avis, commentaires, posts, etc.\\n" + "-   Nécessite de comprendre la structure **HTML** d’une page web\n" + "-   Respecter les **CGU** du site et les **aspects éthiques** (robots.txt, anonymisation)\n" + "\n" + "::: callout-note\n" + "👉 Toujours vérifier les conditions d’utilisation du site avant de scraper. Le fichier robots.txt indique ce qui est autorisé ou non.\n" + ":::\n" + "\n" + "## Comprendre le HTML\n" + "\n" + ":::::: columns\n" + "::: {.column width=\"60%\"}\n" + "### Qu’est-ce que le HTML ?\n" + "\n" + "-   **HyperText Markup Language**\\n" + "-   Langage de balisage utilisé pour **structurer les pages web**\\n" + "-   Les navigateurs lisent le HTML pour afficher texte, images, liens…\n" + "\n" + "### Structure de base\n" + "\n" + "-   **Balises** = éléments entourés de `< >`\\n" + "-   S’ouvrent `<p>` et se ferment `</p>`\\n" + "-   Organisation hiérarchique en **arborescence** (DOM : Document Object Model)\\n" + ":::\n" + "\n" + ":::: {.column width=\"40%\"}\n" + "### Exemples utiles\n" + "\n" + "-   `<h1>` → titre\\n" + "-   `<p>` → paragraphe\\n" + "-   `<a>` → lien\\n" + "-   `<div>` → section, bloc de page\n" + "\n" + "::: {.callout-note title=\"À retenir\"}\n" + "Le HTML ≠ langage de programmation,\\n" + "c’est un **langage de structure**.\\n" + "C’est ce qu’on “scrape” pour collecter les avis.\n" + ":::\n" + "::::\n" + "::::::\n" + "\n" + "## SSR vs SPA & API cachée\n" + "\n" + ":::: columns\n" + "::: {.column width=\"55%\"}\n" + "### Deux architectures fréquentes\n" + "- **SSR** (Server-Side Rendering) : HTML **complet** livré par le serveur → scraping simple.  \n" + "- **SPA** (Single Page App) : HTML initial minimal, contenu chargé via **JavaScript** → penser **API sous-jacente**.  \n" + ":::\n" + "::: {.column width=\"45%\"}\n" + "### Réflexe DevTools\n" + "- Onglet **Network** (XHR/Fetch) pour repérer les **endpoints JSON**.  \n" + "- Examiner **params** (pagination, filtres), **headers**, **auth** éventuelle.  \n" + ":::\n" + "::::\n" + "\n" + "::: callout-tip\n" + "Si une page « ne contient rien » côté HTML, **inspecter l’API** qui remplit la page.  \n" + "C’est souvent **plus stable** que le DOM.\n" + ":::\n" + "\n" + "\n" + "## Inspection du site web - Fnac\n" + "\n" + "[![](images/clipboard-44474281.png){width=\"90%\" fig-align=\"center\"}](https://fr.trustpilot.com/review/www.fnac.com)\n" + "\n" + "## Inspection du site web - Decathlon\n" + "\n" + "[![](images/clipboard-3609763666.png){width=\"90%\" fig-align=\"center\"}](https://www.decathlon.fr/r/tente-gonflable-de-camping-air-seconds-5-2-fetb-5-places-2-chambres/_/R-p-324972?mc=8584565)\n" + "\n" + "## Exemple de scraping statique (plus simple)\n" + "\n" + "::::: columns\n" + "::: {.column width=\"50%\"}\n" + "- Pour des pages **simples** où le contenu est directement dans le HTML  \n" + "- Utiliser des packages comme **rvest** (R) ou **BeautifulSoup** (Python)\n" + "- Voir script `test_scrap_marketing_jobs.R`\n" + "\n" + "### Étapes\n" + "\n" + "1. Télécharger le HTML de la page  \n" + "2. Analyser la structure (balises, classes CSS)  \n" + "3. Extraire les éléments souhaités (ex. avis, notes)  \n" + "4. Sauvegarder les données (CSV, JSON)  \n" + ":::\n" + "\n" + "::: {.column width=\"50%\"}\n" + "![](images/clipboard-902722709.png){fig-align=\"center\" width=\"95%\"}\n" + ":::\n" + ":::::\n" + "\n" + "## Sélecteurs CSS & XPath\n" + "\n" + ":::: columns\n" + "\n" + "::: {.column width=\"60%\"}\n" + "### Pourquoi les sélecteurs sont essentiels ?\n" + "\n" + "- Lorsqu’on scrape, il faut **indiquer au programme où chercher**.  \n" + "- Deux outils principaux :  \n" + "  - **CSS selectors** : utilisés aussi dans le design web (`.classe`, `#id`, `div > p`).  \n" + "  - **XPath** : langage plus puissant, qui décrit le chemin dans l’arborescence HTML.  \n" + ":::\n" + "\n" + "::: {.column width=\"40%\"}\n" + "### Exemples rapides\n" + "\n" + "- CSS : `div.review p.text` → récupère le texte des avis.  \n" + "- XPath : `//div[@class='review']//p[@class='text']`  \n" + "\n" + "👉 Même page, deux méthodes différentes pour pointer les mêmes données.  \n" + ":::\n" + "\n" + "::::  \n" + "\n" + "## Rendre ses sélecteurs robustes\n" + "\n" + "- Préférer des **classes sémantiques** stables (ex. `data-*`).  \n" + "- Éviter les sélecteurs trop **fragiles** (`nth-child`).  \n" + "- Mettre en place un **plan B** : CSS **et** XPath.  \n" + "- **Versionner** ses sélecteurs (notes de changement).  \n" + "\n" + "::: callout-important\n" + "Mettre en place des **tests de fumée** : vérifier régulièrement qu’un petit échantillon s’extrait encore (alerte si 0 résultat).\n" + ":::\n" + "\n" + "\n" + "## Réponses d’une requête HTTP\n" + "\n" + ":::::: columns\n" + "::: {.column width=\"60%\"}\n" + "### Qu’est-ce qu’un code HTTP ?\n" + "\n" + "-   Quand on envoie une **requête** à un serveur (page web, API…),\\n" + "    celui-ci renvoie une **réponse**.\\n" + "-   Cette réponse contient :\n" + "    -   le **contenu** (HTML, JSON, fichier…),\n" + "    -   un **code de statut** indiquant si tout s’est bien passé.\n" + "\n" + "### Codes fréquents\n" + "\n" + "-   **200 OK** → la requête a réussi ✅\\n" + "-   **301 / 302** → redirection 🔀\\n" + "-   **403** → accès interdit 🔒\\n" + "-   **404** → page non trouvée ❌\\n" + "-   **500** → erreur interne du serveur 💥\n" + ":::\n" + "\n" + ":::: {.column width=\"40%\"}\n" + "::: {.callout-note title=\"À retenir\"}\n" + "Les codes HTTP sont comme des **panneaux de signalisation** :\\n" + "ils indiquent l’état de la route entre **l'utilisateur** et le **serveur** .\n" + "\n" + "![](images/clipboard-1049580635.png){width=\"100%\"}\n" + ":::\n" + "::::\n" + "::::::\n" + "\n" + "## Politesse de crawl & robots.txt vs CGU\n" + "\n" + ":::: columns\n" + "::: {.column width=\"58%\"}\n" + "### Bonne conduite technique\n" + "- Respecter `robots.txt`, `crawl-delay`, `sitemap.xml`.  \n" + "- **Throttling** : délais aléatoires, **backoff exponentiel**.  \n" + "- Identifier proprement l’**User-Agent**.  \n" + ":::\n" + "::: {.column width=\"42%\"}\n" + "### Aspects juridiques/éthiques\n" + "- Les **CGU** priment (contrat).  \n" + "- Données personnelles → **RGPD** : minimisation, base légale, anonymisation.  \n" + "- **Droit d’auteur / droit des bases de données (UE)**.  \n" + ":::\n" + "::::\n" + "\n" + "::: callout-note\n" + "En recherche : privilégier **API officielles**, anonymisation, et documenter vos **mesures de conformité**.\n" + ":::\n" + "\n" + "\n" + "## Expressions régulières (Regex)\n" + "\n" + "::::: columns\n" + "::: {.column width=\"60%\"}\n" + "### Qu’est-ce qu’une regex ?\n" + "\n" + "- Une **règle textuelle** permettant de détecter ou extraire des motifs.  \n" + "- Très utilisée dans le scraping pour :\n" + "  - Nettoyer les chaînes de caractères,  \n" + "  - Extraire un numéro, une date, une note, un email, etc.  \n" + ":::\n" + "\n" + "::: {.column width=\"40%\"}\n" + "### Exemples utiles\n" + "\n" + "- `\d+` → détecte une suite de chiffres (ex. \"123\").  \n" + "- `[A-Z][a-z]+` → détecte un mot commençant par majuscule.  \n" + "- `https?://\S+` → détecte une URL.  \n" + "\n" + ":::\n" + ":::::\n" + "\n" + "::: {.callout-note title=\"À retenir\"}\n" + "Les regex sont comme un **aimant à motifs textuels**.  \n" + "Elles permettent d’**affiner le scraping** pour récupérer ce qu’on veut exactement.\n" + ":::\n" + "\n" + "## Qu’est-ce qu’une API ?\n" + "\n" + ":::::: columns\n" + "::: {.column width=\"60%\" style=\"font-size:0.65em\"}\n" + "### Définition\n" + "\n" + "-   **API** = *Application Programming Interface*\\n" + "-   Une **interface** qui permet à deux systèmes informatiques de communiquer\\n" + "-   L’API définit :\n" + "    -   quelles données sont disponibles,\\n" + "    -   comment les demander,\\n" + "    -   dans quel format elles seront renvoyées (souvent JSON).\\n" + ":::\n" + "\n" + ":::: {.column width=\"40%\" style=\"font-size:0.65em\"}\n" + "::: {.callout-note title=\"Analogie\"}\n" + "Une API fonctionne comme **un menu de restaurant** :\\n" + "- le menu = les services disponibles,\\n" + "- la commande = la requête,\\n" + "- le plat servi = la réponse de l’API.\n" + ":::\n" + "::::\n" + "\n" + "![](images/clipboard-874427102.png){fig-align=\"center\" width=\"65%\"}\n" + "::::::\n" + "\n" + "------------------------------------------------------------------------\n" + "\n" + "## Pourquoi utiliser une API ?\n" + "\n" + ":::::: columns\n" + "::: {.column width=\"50%\"}\n" + "### Avantages\n" + "\n" + "-   Données **structurées** (JSON, XML, CSV).\\n" + "-   Informations **fiables et cohérentes**.\\n" + "-   Accès possible depuis différents supports : site web, application mobile, outils internes.\\n" + "-   Plus rapide et plus robuste que le scraping HTML.\\n" + ":::\n" + "\n" + ":::: {.column width=\"50%\"}\n" + "::: {.callout-important title=\"Comparaison\"}\n" + "-   **Scraping** = recopier ce qui s’affiche à l’écran.\\n" + "-   **API** = demander directement au serveur les données brutes.\n" + "\n" + "👉 L’API est **plus simple** à exploiter dès qu’elle est disponible.\n" + ":::\n" + "::::\n" + "::::::\n" + "\n" + "## Utiliser l’API sous-jacente (plus robuste) 1/2\n" + "\n" + "![](images/clipboard-283255231.png)\n" + "\n" + "## Utiliser l’API sous-jacente (plus robuste) 2/2\n" + "\n" + "Beaucoup de sites chargent les avis via une **API JSON** en arrière-plan.\\n" + "On peut la repérer via l’onglet **Network** de DevTools. Voir script `test_scrap_api_decathlon.ipynb`\n" + "\n" + "Exemple Decathlon (avis produit `8584565`) : <https://www.decathlon.fr/fr/ajax/nfs/openvoice/reviews/product/8584565?range=0-9>\n" + "\n" + "-   Paramètre `range=0-9` → renvoie les 10 premiers avis\\n" + "-   On peut incrémenter `range=10-19`, `20-29`, etc. pour paginer\\n" + "-   La réponse est un **JSON** structuré et facile à manipuler en Python\n" + "\n" + "## Limites & blocages du scraping\n" + "\n" + "- Certains sites mettent en place des **protections anti-scraping** :  \n" + "  - Captchas,  \n" + "  - Blocage d’IP après trop de requêtes,  \n" + "  - Chargement dynamique par JavaScript.  \n" + "\n" + "- Solutions possibles :  \n" + "  - **Délai aléatoire** entre requêtes,  \n" + "  - Utiliser des **proxies** (IP différentes),  \n" + "  - Automatiser un navigateur (ex. `RSelenium`, `Selenium` en Python).  \n" + "\n" + "::: {.callout-important title=\"Éthique & légalité\"}\n" + "Toujours respecter :  \n" + "- Les **conditions d’utilisation** du site,  \n" + "- Les **règles RGPD** si données personnelles,  \n" + "- Et informer si vous utilisez ces données dans une étude.\n" + "\n" + ":::\n" + "\n" + "## Anti-bot & fingerprinting\n" + "\n" + "- Contremesures typiques : **CAPTCHAs**, blocage IP, **fingerprinting** (canvas, fonts, timing) voire **Cookies** \n" + "- Contournements : proxys, rotation IP, navigateurs headless… **À manier avec prudence** (légalité/éthique).  \n" + "- Stratégie la plus simple et la meilleure : **passer par l’API** quand elle existe.  \n" + "\n" + "::: callout-important\n" + "Rester du côté « responsable » : ne pas dégrader les services, ne pas outrepasser des restrictions explicites.\n" + ":::\n" + "\n" + "\n" + "## Scraping dynamique avec Selenium & Playwright\n" + "\n" + "\\n" + "\n" + "### Pourquoi un navigateur automatisé ?\n" + "\n" + "- Certains contenus ne sont pas dans le **HTML initial**,  \n" + "  mais chargés après coup par **JavaScript**.  \n" + "- Dans ce cas, un simple `rvest` ou `BeautifulSoup` ne suffit pas.  \n" + "- Il faut simuler un vrai navigateur qui :\n" + "  - charge la page,  \n" + "  - exécute le JavaScript,  \n" + "  - récupère le contenu final affiché.  \n" + "\n" + "👉 C’est le rôle de **Selenium** (Python/R) et **Playwright** (Python/JS).\n" + "\n" + "\n" + "---\n" + "\n" + "## Exemple d’utilisation\n" + "\n" + "### Étapes générales\n" + "\n" + "1. Ouvrir un navigateur automatisé (Chrome, Firefox…).  \n" + "2. Naviguer vers l’URL de la page cible.  \n" + "3. Attendre le rendu JavaScript.  \n" + "4. Extraire le HTML ou interagir avec la page (clics, scroll…).  \n" + "5. Sauvegarder les données.  \n" + "\n" + "### Cas typiques\n" + "- Sites e-commerce avec avis **chargés dynamiquement**.  \n" + "- Pages qui nécessitent de **cliquer** pour voir plus de contenu. \n" + "- Pages qui nécessitent de se connecter avec login et password.\n" + "- Scroll infini (ex. réseaux sociaux).\n" + "\n" + "\n" + "\n" + "\n" + "---\n" + "\n" + "## À retenir\n" + "\n" + "::: callout-note\n" + "- **Selenium/Playwright** = des robots qui se font passer pour un utilisateur.  \n" + "- Très puissants, mais aussi plus **lents** et **lourds** que le scraping statique.  \n" + "- Toujours vérifier les **aspects légaux et éthiques** :  \n" + "  ce n’est pas parce qu’on peut automatiser un clic qu’on en a le droit.  \n" + ":::\n" + "\n" + "\n" + "## L’avenir du code : avec les LLMs\n" + "\n" + ":::::: columns\n" + "::: {.column width=\"50%\" style=\"font-size:0.75em\"}\n" + "### Pourquoi utiliser les LLMs ?\n" + "\n" + "-   Outils comme **ChatGPT, Claude, Gemini, Mistral** facilitent la génération de code.\\n" + "-   Gain de temps sur les tâches répétitives (import, nettoyage, visualisation).\\n" + "-   Permettent d’explorer rapidement plusieurs approches.\n" + "\n" + "### Ce qui reste essentiel\n" + "\n" + "-   **Comprendre les concepts** : API, packages, fonctions, corpus, tokenisation, sentiment, topics…\\n" + "-   Être capable de **lire et comprendre** un script généré.\\n" + "-   Savoir écrire un peu de code pour **dialoguer efficacement** avec les LLMs.\n" + "\n" + "### L’avenir\n" + "\n" + "-   Les métiers de demain demanderont plus de **pilotage des IA** que d’écriture manuelle de code.\\n" + "-   Votre valeur ajoutée = **esprit critique**, **capacité d’interprétation** et **rigueur méthodologique**.\\n" + ":::\n" + "\n" + ":::: {.column width=\"50%\"}\n" + "\\n" + "\\n" + "![](images/clipboard-986880177.png){fig-align=\"center\" width=\"100%\"}\n" + "\n" + "::: {.callout-tip title=\"À retenir\"}\n" + "Apprenez les bases,\\n" + "mais pensez déjà à **coder avec les LLMs** et leur utilisation est encouragée.\n" + ":::\n" + "::::\n" + "::::::"</script>
<script> window._input_filename = 'C:\Users\Olivier\Documents\GitHub\etudes_qualitatives_web\cours_3\cours_3.qmd'</script>
</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="cours_3_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="cours_3_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/revealeditable/editable.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="cours_3_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="cours_3_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1250,

        height: 760,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, Revealeditable, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    <script type="text/javascript">
      Reveal.on('ready', event => {
        if (event.indexh === 0) {
          document.querySelector("div.has-logo > img.slide-logo").style.display = "none";
        }
      });
      Reveal.addEventListener('slidechanged', (event) => {
        if (event.indexh === 0) {
          Reveal.configure({ slideNumber: null });
          document.querySelector("div.has-logo > img.slide-logo").style.display = "none";
        }
        if (event.indexh === 1) { 
          Reveal.configure({ slideNumber: 'c/t' });
          document.querySelector("div.has-logo > img.slide-logo").style.display = null;
        }
      });
    </script>
    

</body></html>